PART
{
    // --- general parameters ---
    name = dsts_intrbm
    module = Part
    author = bac9

    // --- asset parameters ---
    MODEL
    {
        model = DeepSky/TheSpice/Harvesters/Intakes/B9intmount
		texture = model000, DeepSky/TheSpice/Harvesters/Intakes/B9intmounttex
		scale = 1, 1, 1
    }
    rescaleFactor = 1

    // --- node definitions ---
    node_attach = 0.0, 0.0, 0.0, 0.0, -1.0, 0.0
    node_stack_bottom1 = 0.0, 0.625, 2.0, 0.0, 0.0, 1.0, 1

    // --- editor parameters ---
    TechRequired = advAerodynamics
    entryCost = 16000
    cost = 3200
    category = Aero
    subcategory = 0
    title = DS RBM Variable Geometry Intake
    manufacturer = Deep Sky
    description = This intake features the ramp that varies angle depending on your velocity to focus the oblique shock wave onto the intake lip. Operates well at supersonic speeds. Can be mounted on any surface of your craft. Features engine mount on the back side. An incredibly large and very feature-filled air-handling part. It is both a ram intake and mass harvester intended for scooping atmospheres that consist very largely of a certain gas.
    // attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
    attachRules = 1,1,1,1,0

    // --- standard part parameters ---
    mass = 0.6
    thermalMassModifier = 12.0
    heatConvectiveConstant = 0.75
    emissiveConstant = 0.95
    dragModelType = default
    maximum_drag = 0.2
    minimum_drag = 0.2
    angularDrag = 1
    crashTolerance = 20
    breakingForce = 2700
    breakingTorque = 2700
    maxTemp = 3100
    fuelCrossFeed = True
    bulkheadProfiles = size1, srf
    tags = aero breathe fligh inlet intake jet mount oxygen suck supersonic
	
    MODULE
    {
        name = ModuleResourceIntake
        resourceName = IntakeAir
        checkForOxygen = true
        area = 0.0075
        intakeSpeed = 15
        intakeTransformName = Intake
        
		machCurve
		{
			key = 0 0.85 0 0
			key = 1 1 0 0
			key = 3 2 0 0
			key = 6 2.2 0 0
			key = 12 1.2 0 0
			key = 20 0.01 0 0
		}
    }
	
    MODULE
    {
        name = ModuleResourceIntake
        resourceName = IntakeAtm
        area = 0.0075
        intakeSpeed = 15
        intakeTransformName = Intake
        
		machCurve
		{
			key = 0 0.85 0 0
			key = 1 1 0 0
			key = 3 2 0 0
			key = 6 2.2 0 0
			key = 12 1.2 0 0
			key = 20 0.01 0 0
		}
    }
	
	RESOURCE
	{
		name = IntakeAir
		amount = 20
		maxAmount = 20
	}
	
	RESOURCE
	{
		name = IntakeAtm
		amount = 20
		maxAmount = 20
	}

    MODULE
    {
        name = ModuleB9AnimateIntake
        animationName = intake_rbm_shock_ramp
        responseSpeed = 0.05
        intakeClosedState = 0
        machCurve
        {
            key = 1 0 0 0
            key = 4 1 1 1
        }
    }
	
	MODULE
	{
		name = ModuleResourceHarvester
		HarvesterType = 2
		Efficiency = 10
		airSpeedStatic = 40
		ResourceName = SpiceGas
		ConverterName = SpiceGas Filter
		StartActionName = Start SpiceGas Filter
		StopActionName = Stop SpiceGas Filter
		ToggleActionName = Toggle SpiceGas Filter
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 1
		}
	}
	
	MODULE
	{
		name = ModuleAnimationGroup
		deployAnimationName = 
		activeAnimationName = 
		moduleType = Filter
	}
}