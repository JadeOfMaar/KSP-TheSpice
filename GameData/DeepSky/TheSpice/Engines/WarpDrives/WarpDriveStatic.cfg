PART
{
	name = dsts_warpstatic
	module = Part
	author = Fractal
	//model by z
	//mesh = warp.mu
	
	MODEL
	{
		model = DeepSky/TheSpice/Engines/WarpDrives/WDStatic/warp
		scale = 1,1,1
	}
	MODEL:NEEDS[WarpEngine]
	{
		model = UmbraSpaceIndustries/WarpDrive/Assets/WarpBubble
		scale = 2.34, 2.34, 2.34
	}
	rescaleFactor = 1
	node_stack_top = 0.0, 1.05, 0.0, 0.0, 1.0, 0.0, 2
	node_stack_bottom = 0.0, -1.0, 0.0, 0.0, -1.0, 0.0, 2

	TechRequired = experimentalMotors
	entryCost = 500000
	cost = 1786700
	category = Engine
	subcategory = 0
	
	title = DS Taranis I Warp Drive
	manufacturer = Deep Sky
	description = The orange Spice Gas enables kerbalkind to fold space! In terms of travel performance it meets the baseline compared to Alcubierre Drives, but offers additional functionalities such as in-built FTL antenna, SAS, and can be built smaller without losing efficiency.
	attachRules = 1,0,1,1,0
	bulkheadProfiles = size2

	mass = 6.4
	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.15
	angularDrag = 2
	crashTolerance = 6
	breakingForce = 200
	breakingTorque = 200
	maxTemp = 2500

	stagingIcon = REACTION_WHEEL

	DRAG_CUBE
	{
		cube = Default, 7.692,0.7601,3.352, 7.692,0.7599,3.352, 9.23,0.9076,2.173, 9.23,0.9574,1.995, 8.378,0.7665,5.491, 8.378,0.7352,6.098, 4.289E-08,-0.0001061,2.486E-07, 6.531,2.071,6.531
	}
	
	MODULE
	{
		name = ModuleDataTransmitter
		antennaType = RELAY
		packetInterval = 0.8
		packetSize = 4
		packetResourceCost = 80.0
		requiredResource = ElectricCharge
		antennaPower = 1E+14
		antennaCombinable = True
	}
	
	MODULE
	{
		name = ModuleReactionWheel
		PitchTorque = 20
		YawTorque = 20
		RollTorque = 20		
		RESOURCE
		{
			name = ElectricCharge
			rate = 2
		}
	}
	
	MODULE:NEEDS[WarpEngine]
	{
		name = USI_ModuleWarpEngine
		WarpFactor = 6 // maximum warp
		GravFactor = .95 // Gravity Strength (multiple of planetary radius where speed trends to zero.)
		BrakeFalloff = .90 // orbit radii to this power (smaller is stronger braking further away)
		TurboMult = 1 // Increases overall turbo top speed, careful to not make it too large.
		deployAnimationName = Engage
		warpAnimationName = WarpField
		MinThrottle = 0.05
		DisruptRange = 2000
		BubbleSize = 40
		MinAltitude = .5 // planetary radius * this.
		unfoldAnimationName = 
	}
	
	MODULE
	{
		name = FXModuleAnimateThrottle
		animationName = EngineThrottle
		dependOnEngineState = True
		responseSpeed = 0.05
	}

	MODULE:NEEDS[WarpEngine]
	{
		name = ModuleEnginesFX
		// thrustVectorTransformName = thrustTransform
		exhaustDamage = False
		ignitionThreshold = 0.1
		minThrust = 0
		maxThrust = 0.02
		heatProduction = 10
		EngineType = Nuclear
		flameoutEffectName = flameout
		powerEffectName = running_thrust
		engageEffectName = engage
		disengageEffectName = disengage
		spoolEffectName = running_core
		engineSpoolIdle = 0.05
		engineSpoolTime = 2.0
		PROPELLANT
		{
			name = ElectricCharge
			ratio = 2
			DrawGauge = True
		}
		PROPELLANT
		{
			name = SpiceGas
			resourceFlowMode = STAGE_STACK_FLOW_BALANCE
			ratio = 1
			DrawGauge = True
		}
		atmosphereCurve
		{
			key = 0 1.6
		}
	}
	
	EFFECTS
	{		
		running_core
		{
			AUDIO
			{
				channel = Ship
				clip = DeepSky/TheSpice/Sounds/alienrunninglong1
				volume = 0.0 0.0
				volume = 0.05 1 0 0
				volume = 0.7 1.5 0 0
				volume = 1.0 1 0 0
				pitch = 0.05 0.8
				pitch = 0.5 1.0
				speed = 0.0 0.8
				speed = 0.5 1.0
				loop = true
			}
		}
		
		running_thrust
		{
			AUDIO
			{
				name = highwarp
				channel = Ship
				clip = DeepSky/TheSpice/Sounds/alienrunninglong2
				volume = 0.5 0
				volume = 1.0 0.5
				loop = true
			}
			
			AUDIO
            {
				name = Warp
                channel = Ship
                clip = DeepSky/00DeepSky/Sounds/RCSnoise_med-low
                volume = 0.0 0
                volume = 1.0 1.5
                pitch = 0.0 1.0
                pitch = 1.0 1.2
                loop = true
                speed = 0.5 1
                speed = 1.0 1.4
            }
		}
		
		engage
		{
			AUDIO
			{
				name = charge
				channel = Ship
				clip = DeepSky/TheSpice/Sounds/airplane_F15spool
				volume = 1.0
				pitch = 1.0
				loop = false
			}
		}
		
		disengage
		{
			AUDIO
			{
				channel = Ship
				clip = DeepSky/TheSpice/Sounds/airplane_F15unspool
				volume = 0.5
				pitch = 1.0
				loop = false
			}
		}
		
		flameout
		{
			AUDIO
			{
				channel = Ship
				clip = DeepSky/TheSpice/Sounds/alienswooplow
				volume = 2.0
				pitch = 1.0
				loop = false
			}
		}
	}
}