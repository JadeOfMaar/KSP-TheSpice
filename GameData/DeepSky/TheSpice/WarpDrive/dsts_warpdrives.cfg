// Hide USI's RoverDude warp drives
@PART[USI_WarpDrive_625|USI_WarpDrive_625]:NEEDS[WarpEngine]
{
	@category = none
}

// Convert USI's ZZZ Warp Drives
@PART[ZWarpDrive125|ZWarpDrive25|ZWarpDrive375]:NEEDS[WarpEngine]
{
	@MODEL,0
	{
		texture = Object044VRayCompleteMap, DeepSky/TheSpice/Patches/WarpDrive/Object044VRayCompleteMap
	}
	@title ^= :Alcubierre Drive Z-model:DS Arrakis Warp Drive:
	@manufacturer = Deep Sky
	@description = The orange Spice Gas enables kerbalkind to fold space! And it further helps to expand consciousness.
	
	// stagingIcon = REACTION_WHEEL
	
	// Delete ExoticMatter generator
	!MODULE[ModuleResourceConverter] {}
	
	// Delete legacy ModuleEngines ...FX
	!fx*,* = del
	!sound*,* = del

	EFFECTS
	{		
		running_core
		{
			AUDIO
			{
				channel = Ship
				clip = DeepSky/TheSpice/Sounds/alienrunninglong1
				volume = 0.0 0.0
				volume = 0.05 1 0 0
				volume = 0.4 1.5 0 0
				volume = 0.7 0 0 0
				pitch = 0.4 1.0
				pitch = 0.6 1.3
				loop = true
			}
		}
		running_thrust
		{
			AUDIO
			{
				name = highwarp
				channel = Ship
				clip = DeepSky/TheSpice/Sounds/alien_running2b_allrange
				volume = 0.4 0.0
				volume = 0.8 1.0
				pitch = 0.0 0.7
				pitch = 0.7 0.7
				speed = 0.4 0.8
				speed = 0.7 1.0
				loop = true
			}
			
			AUDIO
            {
				name = Warp
                channel = Ship
                clip = DeepSky/TheSpice/Sounds/RCSnoise_med-low
                volume = 0.0 0
                volume = 1.0 1.5
                pitch = 0.0 1.0
                pitch = 1.0 1.4
                loop = true
                speed = 0.5 1
                speed = 1.0 1.4
            }
		}
		engage
		{
			AUDIO
			{
				name = charge
				channel = Ship
				clip = DeepSky/TheSpice/Sounds/airplane_F15spool
				volume = 1.0
				pitch = 1.0
				loop = false
			}
		}
		disengage
		{
			AUDIO
			{
				channel = Ship
				clip = DeepSky/TheSpice/Sounds/airplane_F15unspool
				volume = 0.5
				pitch = 1.0
				loop = false
			}
		}
		flameout
		{
			AUDIO
			{
				channel = Ship
				clip = DeepSky/TheSpice/Sounds/alienswooplow
				volume = 0.5
				pitch = 1.0
				loop = false
			}
		}
	}
	
	@MODULE[ModuleEngines]
	{
		@name = ModuleEnginesFX
		@maxThrust *= 10
		
		flameoutEffectName = flameout
		powerEffectName = running_thrust
		engageEffectName = engage
		disengageEffectName = disengage
		spoolEffectName = running_core
		%ignitionThreshold = 0.05
		!PROPELLANT,* {}
		PROPELLANT
		{
			name = ElectricCharge
			ratio = 3.25
			DrawGauge = True
		}
		PROPELLANT
		{
			name = SpiceGas
			ratio = 1
			DrawGauge = True
		}
		atmosphereCurve
		{
			key = 0 2
		}
	}
	
	@RESOURCE,0
	{
		@name = SpiceGas
		@amount *= 10
		@maxAmount *= 10
	}
	!RESOURCE,1 {}
}
@PART[ZWarpDrive125]:NEEDS[WarpEngine]
{
	@MODEL,1
	{
		@scale = 1,1,1
	}
	@MODULE[USI_ModuleWarpEngine]
	{
		@BubbleSize = 20
	}
	MODULE
	{
		name = ModuleDataTransmitter
		antennaType = RELAY
		packetInterval = 0.8
		packetSize = 4
		packetResourceCost = 80.0
		requiredResource = ElectricCharge
		antennaPower = 1E+13
		antennaCombinable = True
	}
}
@PART[ZWarpDrive25]:NEEDS[WarpEngine]
{
	@MODEL,1
	{
		@scale = 2,2,2
	}
	@MODULE[USI_ModuleWarpEngine]
	{
		@BubbleSize = 40
	}
	MODULE
	{
		name = ModuleDataTransmitter
		antennaType = RELAY
		packetInterval = 0.8
		packetSize = 4
		packetResourceCost = 80.0
		requiredResource = ElectricCharge
		antennaPower = 5E+13
		antennaCombinable = True
	}
}
@PART[ZWarpDrive375]:NEEDS[WarpEngine]
{
	@MODEL,1
	{
		@scale = 3,3,3
	}
	@MODULE[USI_ModuleWarpEngine]
	{
		@BubbleSize = 60
	}
	MODULE
	{
		name = ModuleDataTransmitter
		antennaType = RELAY
		packetInterval = 0.8
		packetSize = 4
		packetResourceCost = 80.0
		requiredResource = ElectricCharge
		antennaPower = 1E+14
		antennaCombinable = True
	}
}