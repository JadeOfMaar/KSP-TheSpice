+RESOURCE_DEFINITION[Nitrogen]:NEEDS[CommunityResourcePack]:FOR[TheSpice]
{
	@name = SpiceGas
	@displayName = Spice Gas
	//density = 0.000001251
	@unitCost = 0.05 // was 0.00005
	@ksparpicon = DeepSky/TheSpice/Resources/SpiceGas
}

+RESOURCE_DEFINITION[Metals]:NEEDS[CommunityResourcePack]:FOR[TheSpice]
{
	@name = WormEssence
	@displayName = Worm Essence
	//density = 0.0078		
	@unitCost = 28000 //was 14.24
	@ksparpicon = DeepSky/TheSpice/Resources/WormEssence
}

+RESOURCE_DEFINITION[Dirt]:NEEDS[CommunityResourcePack]:FOR[TheSpice]
{
	@name = SpiceMelange
	@displayName = Spice Melange
	//density = 0.0016
	@unitCost = 30 // was 0.3
	@ksparpicon = DeepSky/TheSpice/Resources/SpiceMelange
}


+RESOURCE_DEFINITION[Dirt]:NEEDS[CommunityResourcePack]:FOR[TheSpice]
{
	@name = WhiteSpice
	@displayName = White Spice
	//density = 0.0016
	@unitCost = 50 // was 0.3
	@ksparpicon = DeepSky/TheSpice/Resources/WhiteSpice
}

PLANETARY_RESOURCE
{
	ResourceName = WormEssence
	ResourceType = 0
	Tag = SpicePlanet
	PlanetName:NEEDS[!GPP,!GPO,!KSS,!Arkas] = Duna
	PlanetName:NEEDS[GPP] = Gratian
	PlanetName:NEEDS[Arkas,!GPP] = Arkas
	PlanetName:NEEDS[KSS,!GPP] = Dunem
	PlanetName:NEEDS[GPO,!GPP] = Dreidos
	
	Distribution
	{
		PresenceChance = 100
		MinAbundance = .01
		MaxAbundance = 3
		Variance = 50
	}
}

PLANETARY_RESOURCE
{
	ResourceName = Ore
	ResourceType = 0
	Tag = SpicePlanet
	PlanetName:NEEDS[!GPP,!GPO,!KSS,!Arkas] = Duna
	PlanetName:NEEDS[GPP] = Gratian
	PlanetName:NEEDS[Arkas,!GPP] = Arkas
	PlanetName:NEEDS[KSS,!GPP] = Dunem
	PlanetName:NEEDS[GPO,!GPP] = Dreidos
	
	Distribution
	{
		PresenceChance = 100
		MinAbundance = .01
		MaxAbundance = 3
		Variance = 50
	}
}

PLANETARY_RESOURCE
{
	ResourceName = SpiceMelange
	ResourceType = 0
	Tag = SpicePlanet
	PlanetName:NEEDS[!GPP,!GPO,!KSS,!Arkas] = Duna
	PlanetName:NEEDS[GPP] = Gratian
	PlanetName:NEEDS[Arkas,!GPP] = Arkas
	PlanetName:NEEDS[KSS,!GPP] = Dunem
	PlanetName:NEEDS[GPO,!GPP] = Dreidos
	
	Distribution
	{
		PresenceChance = 100
		MinAbundance = 12
		MaxAbundance = 30
		Variance = 10
	}
}

PLANETARY_RESOURCE
{
	ResourceName = SpiceMelange
	ResourceType = 1
	Tag = SpicePlanet
	PlanetName:NEEDS[!GPP,!GPO,!KSS,!Arkas] = Duna
	PlanetName:NEEDS[GPP] = Gratian
	PlanetName:NEEDS[Arkas,!GPP] = Arkas
	PlanetName:NEEDS[KSS,!GPP] = Dunem
	PlanetName:NEEDS[GPO,!GPP] = Dreidos
	
	Distribution
	{
		PresenceChance = 100
		MinAbundance = 4
		MaxAbundance = 8
		Variance = 10
	}
}

PLANETARY_RESOURCE
{
	ResourceName = SpiceGas
	ResourceType = 2
	Tag = SpicePlanet
	PlanetName:NEEDS[!GPP,!GPO,!KSS,!Arkas] = Duna
	PlanetName:NEEDS[GPP] = Gratian
	PlanetName:NEEDS[Arkas,!GPP] = Arkas
	PlanetName:NEEDS[KSS,!GPP] = Dunem
	PlanetName:NEEDS[GPO,!GPP] = Dreidos
	
	Distribution
	{
		PresenceChance = 100
		MinAbundance = 35
		MaxAbundance = 60
		Variance = 10
	}
}

PLANETARY_RESOURCE
{
	ResourceName = SpiceGas
	ResourceType = 3
	Tag = SpicePlanet
	PlanetName:NEEDS[!GPP,!GPO,!KSS,!Arkas] = Duna
	PlanetName:NEEDS[GPP] = Gratian
	PlanetName:NEEDS[Arkas,!GPP] = Arkas
	PlanetName:NEEDS[KSS,!GPP] = Dunem
	PlanetName:NEEDS[GPO,!GPP] = Dreidos
	
	Distribution
	{
		PresenceChance = 100
		MinAbundance = .5
		MaxAbundance = 4
		MinAltitude = 2
		MaxAltitude = 2.5
		MinRange = 3
		MaxRange = 3	
	}
}

BIOME_RESOURCE:NEEDS[GPP]
{
	ResourceName = SpiceMelange
	ResourceType = 0
	PlanetName = Gratian
	BiomeName = White Spice
	
	Distribution
	{
		PresenceChance = 0
		MinAbundance = 0
		MaxAbundance = 0
		Variance = 0
	}
}

BIOME_RESOURCE:NEEDS[GPP]
{
	ResourceName = WhiteSpice
	ResourceType = 0
	PlanetName = Gratian
	BiomeName = White Spice
	
	Distribution
	{
		PresenceChance = 1000
		MinAbundance = 12
		MaxAbundance = 30
		Variance = 10
	}
}

BIOME_RESOURCE:NEEDS[!GPP,!GPO,!KSS,!Arkas]
{
	ResourceName = SpiceMelange
	ResourceType = 0
	PlanetName = Duna
	BiomeName = Poles
	
	Distribution
	{
		PresenceChance = 0
		MinAbundance = 0
		MaxAbundance = 0
		Variance = 0
	}
}

BIOME_RESOURCE:NEEDS[!GPP,!GPO,!KSS,!Arkas]
{
	ResourceName = SpiceMelange
	ResourceType = 0
	PlanetName = Duna
	BiomeName = Polar Craters
	
	Distribution
	{
		PresenceChance = 0
		MinAbundance = 0
		MaxAbundance = 0
		Variance = 0
	}
}

BIOME_RESOURCE:NEEDS[!GPP,!GPO,!KSS,!Arkas]
{
	ResourceName = SpiceMelange
	ResourceType = 0
	PlanetName = Duna
	BiomeName = Polar Highlands
	
	Distribution
	{
		PresenceChance = 0
		MinAbundance = 0
		MaxAbundance = 0
		Variance = 0
	}
}

BIOME_RESOURCE:NEEDS[!GPP,!GPO,!KSS,!Arkas]
{
	ResourceName = WhiteSpice
	ResourceType = 0
	PlanetName = Duna
	BiomeName = Poles
	
	Distribution
	{
		PresenceChance = 1000
		MinAbundance = 12
		MaxAbundance = 30
		Variance = 10
	}
}

BIOME_RESOURCE:NEEDS[!GPP,!GPO,!KSS,!Arkas]
{
	ResourceName = WhiteSpice
	ResourceType = 0
	PlanetName = Duna
	BiomeName = Polar Craters
	
	Distribution
	{
		PresenceChance = 1000
		MinAbundance = 21
		MaxAbundance = 35
		Variance = 10
	}
}

BIOME_RESOURCE:NEEDS[!GPP,!GPO,!KSS,!Arkas]
{
	ResourceName = WhiteSpice
	ResourceType = 0
	PlanetName = Duna
	BiomeName = Polar Highlands
	
	Distribution
	{
		PresenceChance = 1000
		MinAbundance = 9
		MaxAbundance = 18
		Variance = 10
	}
}

//Enable Oxygen
@Kopernicus:BEFORE[Kopernicus]:FOR[TheSpice]
{
	@Body[Duna]:NEEDS[!GPP,!GPO,!KSS]
	{
		@Atmosphere
		{
			%oxygen = true
		}
	}
}
@Kopernicus:FOR[TheSpice]
{
	@Body[Duna]:NEEDS[!GPO,!GPP,!KSS,!Arkas]
	{
		@Atmosphere
		{
			!oxygen = .
		}
	}
	@Body[Gratian]:NEEDS[GPP]
	{
		@Atmosphere
		{
			%oxygen = true
		}
	}
	@Body[Arkas]:NEEDS[Arkas,!GPP]
	{
		@Atmosphere
		{
			%oxygen = true
		}
	}
	@Body[Dunem]:NEEDS[KSS,!GPP]
	{
		@Atmosphere
		{
			%oxygen = true
		}
	}
	@Body[Dreidos]:NEEDS[GPO,!GPP]
	{
		@Atmosphere
		{
			%oxygen = true
		}
	}
}

//Helmets off
TextureReplacer:NEEDS[GPO|GPP|KSS]
{
	Tag = SpicePlanet
	isAtmSuitEnabled = true
	atmSuitPressure = 35
	atmSuitBodies:NEEDS[!GPP,!GPO,!KSS,!Arkas] = Duna
	atmSuitBodies:NEEDS[GPP] = Gratian
	atmSuitBodies:NEEDS[Arkas,!GPP] = Arkas
	atmSuitBodies:NEEDS[KSS,!GPP] = Dunem
	atmSuitBodies:NEEDS[GPO,!GPP] = Dreidos
}
